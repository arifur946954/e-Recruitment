
<div *ngIf="RoleUser !== 'Applicant'" class="col-12 p-0 m-0" >
    <div class="d-flex justify-content-center p-0 m-0">
        <div class="col-11 pl-0 pr-0 pb-0 pt-1 m-0" style="background-color: #fff;">

            <mat-tab-group  class="custom-tab-group" mat-align-tabs="center" style="background-color: #138496;" color="accent"   >

    

                <mat-tab class="custom-group"  label="Application List">
                    
                    <form   [formGroup]="candidateForm">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 m-0 card " style="border: 1px solid #ccc; background-color: #B8DAFF;">
                        <div class="row p-0 mt-3">
                            <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-0 p-0" style="float: left;">
                                <div class="form-group clearfix">
                                    <label class="control-label col-sm-3 ml-4 p-0 m-0 pt-1" for="OID"
                                        style="float: left;">Job Title:
                                    </label>
                                    <div  class="col-sm-8 p-0 m-0" style="float: left; ">
                                        <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">

                                   <ng-select2  formControlName="jobTitle" [options]="options"
                                        [allowClear]="true" id="jobTitle" name="job" [data]="jobPostList"
                                        [placeholder]="'Select Job Title'"
                                        (valueChanged)="getApplicationList()"
                                        >
                                        
                                  </ng-select2>
                                              
                                        </div>
                                    </div>
                                </div>

                                <div hidden class="form-group clearfix">
                                    <label class="control-label col-sm-3 ml-4 p-0 m-0 pt-1" for="OID"
                                        style="float: left;">Start Date:
                                    </label>
                                    <div  class="col-sm-8 p-0 m-0" style="float: left;">
                                        <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                           
                                            <input formControlName="startDate" style="width: 93%;" type="date"
                                            class="form-control form-control-sm input-sm input-sm-*"
                                            id="startDate"
                                            
                                            placeholder="Enter startDate..." name="startDate">
                                              
                                        </div>
                                    </div>
                                </div>
                    
                            </div>
                        
                            
                           
                        
                        
                                <div hidden class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-0 p-0" style="float: left;">
                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-3 ml-4 p-0 m-0 pt-1" for="OID"
                                            style="float: left;">Department:
                                        </label>
                                        <div  class="col-sm-8 p-0 m-0" style="float: left;">
                                            <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                                <select class="form-control" formControlName="department" (change)="getDepartment($event)">
                                                    <option *ngFor="let department of departmentList" [value]="department">{{ department }}</option>
                                                    
                                                  </select>
                                                  
                                            </div>
                                        </div>
                                    </div>


                                    <div hidden class="form-group clearfix">
                                        <label class="control-label col-sm-3 ml-4 p-0 m-0 pt-1" for="OID"
                                            style="float: left;">End Date:
                                        </label>
                                        <div  class="col-sm-8 p-0 m-0" style="float: left;">
                                            <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                               
                                                <input formControlName="endDate" style="width: 93%;" type="date"
                                                class="form-control form-control-sm input-sm input-sm-*"
                                                id="endDate"
                                                
                                                placeholder="Enter endDate..." name="endDate">
                                                  
                                            </div>
                                        </div>
                                    </div>
                        
                                </div>

                                



                                 <div hidden class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12 m-0 p-0" style="float: left;">
                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 ml-4 p-0 m-0 pt-1" for="OID"
                                            style="float: left;">Post:
                                        </label>
                                        <div  class="col-sm-9 p-0 m-0" style="float: left;">
                                            <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                        
                                                <select class="form-control" formControlName="post" (change)="getPost($event)">
                                                    <option *ngFor="let post of AppliedpostList" [value]="post">{{ post }}</option>
                                                    
                                                  </select>
                                                  
                                            </div>
                                        </div>
                                    </div>



                                        <div class="form-group clearfix">
                                        <span id="btnSearch" style="height: 19px; float: right; margin-right: 10%;" class="btn btn-primary btn-sm " (click)="getApplicationList()"><i style="height: 10px;"
                                            class="fa fa-search"></i> Search</span>
                                                </div>
                                           


                                    <!-- <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 ml-4 p-0 m-0 pt-1" for="OID"
                                            style="float: left;">Search:
                                        </label>
                                        <div  class="col-sm-9 p-0 m-0" style="float: left;">
                                            <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                        
                                          
                                                  
                                            </div>
                                        </div>
                                    </div> -->
                        
                                </div> 



                                <!-- <div class="col-xl-2 col-lg-2 col-md-12 col-sm-12 col-xs-12 m-0 p-0" style="float: left;">
                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-4 ml-4 p-0 m-0 pt-1" for="OID"
                                            style="float: left;">IsActive:
                                        </label>
                                        <div  class="col-sm-6 p-0 m-0" style="float: left;">
                                            <div style="padding: 0px; width: 100%; font-size: 13px; float: left;">
                                        
                                                  <ng-select2 
                                             
                                                  [ngModelOptions]="{standalone: true}"
                                            
                                                  id="bank"
                                                  name="bank"
                                                  [placeholder]="'Select'"
                                                  [options]="options"
                                                  [allowClear]="true">
                                      </ng-select2>
                                                  
                                            </div>
                                        </div>
                                    </div>
                        
                                </div> 


                                <div class="col-xl-1 col-lg-1 col-md-12 col-sm-12 col-xs-12 m-0 p-0" style="float: left;">
                       
                                    <div class="form-group clearfix">
                            <span id="btnSearch" style="height: 19px;" class="btn btn-primary btn-sm " (click)="getApproveOne()"><i style="height: 10px;"
                                class="fa fa-search"></i> Search</span>
                                    </div>
                                </div> -->


                        
                            </div>



                        </div>
                    </form>


                       
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>



        <div *ngIf="cmnEntity.isShow" class="card-body pl-0 pr-4 pt-2"
        
                    style="min-height: 460px; margin-bottom: -20px; margin-top: 5px;">
                  
                    <div class="row" style="margin-bottom: 10px;">
                        <div class="col-md-12">
                            <pager-top (setPage)="getListByPage($event)" (sendList)="sendToList($event)"
                                [loggedUserId]="loggedUserId" [pageSize]="pageSize" [IsSearchOnServer]="true"
                                [responseTag]="responseTag" [apiUrl]="_listByPageUrl" [company]="company"
                                [department]="department" [post]="post" [sDate]="sDate" [eDate]="eDate"
                                >
                            </pager-top>
                        </div>
                    </div>
                 

                    <div style="margin-top: -30px;" class="form-group clearfix d-flex justify-content-center align-items-center">
                        <div class="col-sm-1 p-0 m-0">
                            <div style="padding-left: 10px; width: 100%; font-size: 13px;">
                               
                            </div>
                        </div>
                    </div>


                    <div class="row pr-2">
                        <div class="col-md-12">
                            <div class="table-responsive" style="height:700px; overflow:auto;">
                                <table id="table" class="table table-striped table-sm table-bordered p-0"
                                   >
                                    <thead class="table-dark"
                                        style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                        <tr class="banglaTitle myCustomTableHeaderText">
                                        
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                               Job Title </th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Company</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Department</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Post</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Education</th>
                                                <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Start Date</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                End Date</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Employeement Status</th>
                                          
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: center;">
                                                Status</th>
                                             <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: center; width: 10%;">
                                                Action</th>

                                                
                                          
                                        </tr>
                                    </thead>
                                    <tbody class="banglaTitle p-0" style="padding-bottom: 0px; margin-bottom: 0px;">
                                        <tr *ngFor="let item of jobPostLists;let sl = index">

                                        

                                            <td class="pl-2 pr-1 pt-1 pb-1">
                                                <span title="Quotation Reference">
                                                   
                                                    <a 
                                                        title="Quotation Reference">{{item.jobTitle}}</a>
                                                </span>
                                            </td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.company}}</td>
                                            
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.department}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.post}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.education}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.startDate}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.endDate}}</td>
                                        
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.eployeementStatus}}</td>

                                        
                                              
                                        
                                             <td class="pl-2 pr-1 pt-1 pb-1" style="text-align: center;" width="5%">
                                                <h6><span
                                                        class="badge badge-pill badge-{{item.isActive?'success':'danger'}}">{{item.isActive?'Active':'Inactive'}}</span>
                                                </h6>
                                            </td> 

                                            <td class="pl-2 pr-1 pt-1 pb-1" style="text-align: center; width: 12%;">
                                                <common-button-option #cmnbuttonoption style="float: left;"
                                                    (executeSubmit)="cmnbtnAction($event)" [cmnEntity]="cmnEntity"
                                                    [model]="item" [itemName]="item.quotationRefNo" [company]="company"    
                                                    [department]="department" [post]="post" [sDate]="sDate" [eDate]="eDate"
                                                    >
                                                </common-button-option>
                                                </td>

                                          
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
           



                    <div class="row pr-2">
                        <div class="col-md-12">
                            <pager-bottom #cmnpager (setPage)="getListByPage($event)" (sendList)="sendToList($event)"
                                [loggedUserId]="loggedUserId" [responseTag]="responseTag" [apiUrl]="_listByPageUrl">
                            </pager-bottom>
                        </div>
                    </div>
                </div>


          
                
<div>

</div>


<!-- <table style="max-height:500px; display: block; overflow-x: auto; white-space: nowrap; " class="table table-striped table-bordered table-hover table-checkable table-tabletools datatable dataTable ">
    <table>
        <thead class="table-dark"
                            style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                            <tr class="banglaTitle myCustomTableHeaderText">
                                <th
                                    style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                   S/L </th>
                                <th
                                    style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                   Name </th>

                                   <th
                                   style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                  Mobile Number </th>
                                  <th
                                  style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                 Email </th>
                                <th
                                    style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                    Company</th>
                                <th
                                    style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                    Department</th>
                                <th
                                    style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                   Applied Post</th>
                                
                                   

                                    
                              
                            </tr>
                        </thead>

                        <tbody class="banglaTitle p-0" style="padding-bottom: 0px; margin-bottom: 0px;">
                            <tr *ngFor="let item of applicantFormList;let sl = index">
                                <td class="pl-2 pr-1 pt-1 pb-1">{{sl}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.name}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.mobileNumber}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.email}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.company}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.department}}</td>
                                <td class="pl-2 pr-1 pt-1 pb-1">{{item.appliedPost}}</td>
                              
                                </tr>
                               
                                </tbody>


    </table>

</table>      -->
                  
                  
                  
<div class="row pr-2 table-responsive-custom">
    <div class="col-md-12 ">
<div class="card-body pl-0 pr-4 pt-2"  style="max-height: 560px; margin-bottom: -20px; margin-top: 5px; margin-left: 4%; margin-right: 4%;">
    <table id="table" class="table table-striped table-sm  table-bordered p-0" *ngIf="applicantFormList && applicantFormList.length>0" >
        <thead class="table-dark">
            <tr >
               <th scope="col">S/L</th>
               <th scope="col">Name</th>
               <th scope="col">Mobile Number</th>
                <th scope="col">Email</th>
      
               <th scope="col">Company</th>
                <th scope="col">Department</th>
                 <th scope="col">Applied Post</th>
                 <th scope="col">Download CV</th>
                 <th scope="col">Generated CV</th>
                  <th *ngIf="RoleUser!=='Applicant'" scope="col">Message</th>
                  <th *ngIf="RoleUser==='Applicant'" scope="col">Notification</th>
                 
    
            </tr>
        </thead>
      
            <tbody class="banglaTitle p-0" style="padding-bottom: 0px; margin-bottom: 0px; margin-right: 2%;">
                <tr   *ngFor="let list of applicantFormList | paginate:{itemsPerPage:6,currentPage:page} ; ;   let i = index">
                    <td >{{i+1}}</td>
                   
                    <td>{{list.name}}</td>
                    <td>{{list.mobileNumber}}</td>
                    <td>{{list.email}}</td>
                    <td>{{list.company}}</td>
                    <td>{{list.department}}</td>
                    <td>{{list.appliedPost}}</td> 
                   

                    <td>
           <button  [disabled]="!list.cvPath" mat-raised-button color="primary"
           (click)="getcandidateDetail(list.applicantOid)">
          <mat-icon>download</mat-icon>
             Download CV
             </button>
                </td>


                       <td>    
                        <button mat-menu-item (click)="loadReports(list.applicantOid);">
                        <mat-icon class="text-danger" style="margin-top: -10px;"><i
                         class="fa fa-file-pdf-o"></i></mat-icon>
                        <span>Generate CV</span>
                    </button> 
                    </td>

                    
              

            <td *ngIf="RoleUser!=='Applicant'">    
            <button *ngIf="!list.offcMessage" style="color: #1F935C;"  mat-menu-item (click)="selectionProcess(list.applicantOid)">
                <i class="fa fa-save"></i> Send
            </button>  
            <button *ngIf="list.offcMessage" style="color: #FFA327;" class="btn btn-primary" mat-menu-item (click)="updateModal(list.applicantOid)">
                <i class="fa fa-edit"></i> Edit
            </button>
            </td>

              <td *ngIf="RoleUser==='Applicant'">    
            <button *ngIf="list.offcMessage" style="color: #FFA327;" class="btn btn-primary" mat-menu-item (click)="updateModal(list.applicantOid)">
                <i class="fa fa-eye"></i> show
            </button>
            </td>

                  




          
          
            <td>
            </td>
                </tr>
            </tbody>
    </table>
    <pagination-controls (pageChange)="page=$event"></pagination-controls>
   
</div>
</div>
</div>







<div class="custom-modal-backdrop" *ngIf="showModal">
  <div class="custom-modal">
    <h5 *ngIf="RoleUser!=='Applicant'" style="text-align: center;">Send To Applicant Message</h5>
    <h5 *ngIf="RoleUser==='Applicant'"  style="text-align: center;">My Message</h5>



    <br />

    <textarea  [rows]="commentRows"
                [cols]="commentCols" 
                style="text-align: center;"  
                 [(ngModel)]="commentText"></textarea>

    <div class="modal-buttons">
      <button *ngIf="RoleUser!=='Applicant'" class="btn btn-primary" (click)="submitModal()">Submit</button>
      <button class="btn btn-warning" (click)="closeModal()">Close</button>
    </div>
  </div>
</div>


              

<reportviewer></reportviewer>
             





