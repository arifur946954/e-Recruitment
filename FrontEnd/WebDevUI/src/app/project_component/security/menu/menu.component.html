<div class="col-12 p-0 m-0">
    <div class="d-flex justify-content-center p-0 m-0">
        <div class="col-11 pl-0 pr-0 pb-0 pt-1 m-0" style="background-color: #fff;">

            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 m-0 card "
                style="border: 1px solid #ccc;">

                <div class="card-header pt-0 pb-0 pl-2 pr-0 clearfix"
                    style="height: 30px; border: 1px solid #ccc; background-color: #138496;">
                    <h4 class="myCustomTitle pt-1"><i style="font-size: 14px;" class="fa fa-table"></i> Menu Form</h4>
                    <common-button-top #cmnsrv (executeSubmit)="cmnbtnAction($event)" [cmnEntity]="cmnEntity"
                        [btnForm]="menuForm"></common-button-top>
                </div>

                <!-- Entry Form -->
                <div class="col-md-12 pl-0 pr-0 pt-2 pb-0 m-0 table-primary">
                    <div class="container">
                        <form id="subForm" [formGroup]="menuForm" #f="ngForm" class="">
                            <div class="row">

                                <div class="col-md-5">
                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="menuName"
                                            style="float: left;">Menu Name: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <input formControlName="menuName" type="text"
                                                class="form-control form-control-sm input-sm input-sm-*" id="menuName"
                                                placeholder="Enter Menu Name" name="menuName" #MName>
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="menuSequence"
                                            style="float: left;">Sequence: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <input formControlName="menuSequence" type="text"
                                                class="form-control form-control-sm input-sm input-sm-*"
                                                id="menuSequence" placeholder="Menu Sequence" name="menuSequence">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="menuPath"
                                            style="float: left;">Menu URL: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <input formControlName="menuPath" type="text"
                                                class="form-control form-control-sm input-sm input-sm-*" id="menuPath"
                                                placeholder="Menu URL" name="menuPath">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="isSubparent"
                                            style="float: left;">Sub-Prent: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <div class="custom-control custom-checkbox">
                                                <input formControlName="isSubparent" type="checkbox" name="isSubparent"
                                                    checked id="isSubparent" class="custom-control-input">
                                                <label class="custom-control-label" for="isSubparent">Is
                                                    Sub-Parent?</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <!-- <div class="form-group clearfix">
                                                    <label class="control-label col-sm-2 p-0 m-0" for="parentId" style="float: left;">Parent Menu: </label>
                                                    <div class="col-sm-6 p-0 m-0" style="float: left;">
                                                    <select class="form-control" id="parentId" name="parentId" formControlName="parentId" (change)="getSubParentMenus($event, $event.target.value, false)">
                                                        <option value="">--Select Parent Menu--</option>
                                                        <option *ngFor="let menus of parentMenuList" value={{menus.menuId}}>
                                                            {{menus.menuName}}
                                                        </option>
                                                    </select>
                                                    </div>
                                                </div> -->

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="parentId"
                                            style="float: left;">Parent Menu: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <ng-select2 formControlName="parentId" [options]="options"
                                                [allowClear]="true" id="parentId" name="parentId"
                                                [data]="parentMenuList" [placeholder]="'Select Parent Menu'"
                                                (valueChanged)="menuForm.controls.parentId.setValue($event); getSubParentMenus($event, $event, false)">
                                            </ng-select2>
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="subParentId"
                                            style="float: left;">Sub Parent Menu: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <ng-select2 formControlName="subParentId" [options]="options"
                                                [allowClear]="true" id="subParentId" name="subParentId"
                                                [data]="subParentMenuList" [placeholder]="'Select Sub Parent Menu'">
                                            </ng-select2>
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="menuIcon"
                                            style="float: left;">Menu Icon: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <input formControlName="menuIcon" type="text"
                                                class="form-control form-control-sm input-sm input-sm-*" id="menuIcon"
                                                placeholder="Menu Icon" name="menuIcon">
                                        </div>
                                    </div>

                                    <!-- <div class="form-group clearfix">
                                                    <label class="control-label col-sm-2 p-0 m-0" for="MenuIconDropDown" style="float: left;">Menu Icon: </label>
                                                    <div class="col-sm-6 p-0 m-0" style="float: left;">
                                                        <select class="form-control p-0" id="MenuIconDropDown" name="menuIconDropDown" formControlName="menuIcon">
                                                            <option value="">--Select Icon--</option>
                                                            <option value="ti-home">ti-home</option>
                                                            <option value="ti-settings">ti-settings</option>
                                                            <option value="ti-server">ti-server</option>
                                                            <option value="ti-cloud">ti-cloud</option>
                                                            <option value="ti-info">ti-info</option>
                                                            <option value="ti-desktop">ti-desktop</option>
                                                            <option value="ti-shield">ti-shield</option>
                                                            <option value="ti-layout-grid2-alt">ti-layout-grid2-alt</option>
                                                            <option value="ti-crown">ti-crown</option>
                                                            <option value="ti-gift">ti-gift</option>
                                                            <option value="ti-money">ti-money</option>
                                                            <option value="ti-folder">ti-folder</option>
                                                            <option value="ti-menu">ti-menu</option>
                                                        </select>
                                                    </div>
                                                </div> -->

                                    <div class="form-group clearfix">
                                        <label class="control-label col-sm-2 p-0 m-0" for="isActive"
                                            style="float: left;">Status: </label>
                                        <div class="col-sm-6 p-0 m-0" style="float: left;">
                                            <div class="custom-control custom-checkbox">
                                                <input formControlName="isActive" type="checkbox" name="isActive"
                                                    checked id="isActive" class="custom-control-input">
                                                <label class="custom-control-label" for="isActive">Is Active?</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>

                <!-- List-->
                <div class="card-body pl-0 pr-4 pt-2" style="min-height: 460px; margin-bottom: -20px;">
                    <div class="card-header pt-0 pb-0 pl-2 pr-0 clearfix"
                        style="height: 30px; border: 1px solid #ccc; background-color: #6068a3; margin-right: -25px;">
                        <h4 class="myCustomTitle pt-1"><i style="font-size: 14px;" class="fa fa-table"></i> Menu List
                        </h4>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-4 pull-left">
                                <label>
                                    Show <select name="pageSize" [(ngModel)]="pageSize"
                                        (change)="setPagingToGetAll(1,true)">
                                        <option *ngFor="let ps of pageSizeList" value={{ps}}>
                                            {{ps}}
                                        </option>
                                    </select> entries
                                </label>
                            </div>
                            <div class="col-md-4" style="margin-left: 40%;">
                                <div class="col-12 p-0 m-0 ">
                                    <div class="col-6 p-0 m-0" style="float: left;">
                                        <div class="clearfix"
                                            style="padding: 0px; width: 100%; font-size: 11px; margin-top: 1px;">
                                            <ng-select2 [(ngModel)]="RoleId" [options]="options" [allowClear]="true"
                                                [data]="roleList" [placeholder]="'Select Role'"
                                                (valueChanged)="RoleId=$event; getRoleWiseMenu(0, true, pageSize, RoleId);">
                                            </ng-select2>
                                        </div>
                                    </div>
                                </div>
                                <!-- <label>
                                                    <select id="roleId" name="RoleId" [(ngModel)]="RoleId" (change)="getRoleWiseMenu(0, true, pageSize, RoleId)">
                                                        <option value="0">--Select Role--</option>
                                                        <option *ngFor="let roles of roleList" value={{roles.roleId}}>
                                                            {{roles.roleName}}
                                                        </option>
                                                    </select>
                                                </label> -->
                                <button type="button" class="btn btn-success btn-sm ml-2" (click)="onSubmitPrmsn()"
                                    [disabled]="RoleId==0?true:false"
                                    *ngIf="cmnEntity.isInsert || cmnEntity.isUpdate"><i class="fa fa-refresh"></i>
                                    Submit</button>
                            </div>
                            <div class="col-md-4 pull-right" style="margin-top:-30px;">
                                <label class="pull-right">Search: <input type="search" placeholder=""
                                        [(ngModel)]="searchname"></label>
                            </div>
                        </div>
                    </div>

                    <div class="row pr-2">
                        <div class="col-md-12">
                            <div class="table-responsive" style="height:445px; overflow:auto;">
                                <table id="table" class="table table-striped table-sm table-bordered p-0"
                                    *ngIf="this.isLoaded">
                                    <thead class="table-dark"
                                        style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                        <tr class="gradiantBackground banglaTitle myCustomTableHeaderText">
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Menu</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Parent</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Path</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;">
                                                Seq.</th>
                                            <th class="back-color-head"
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;"
                                                scope="col" width="6%">
                                                <div class="checkbox-color checkbox-primary p-t-c-6">
                                                    <input id="isView" [(ngModel)]="isView" (click)="checkAll($event)"
                                                        type="checkbox">
                                                    <label for="isView">&nbsp;IsView</label>
                                                </div>
                                            </th>
                                            <th class="back-color-head"
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;"
                                                scope="col" width="6%">
                                                <div class="checkbox-color checkbox-primary p-t-c-6">
                                                    <input id="isInsert" [(ngModel)]="isInsert"
                                                        (click)="checkAll($event)" type="checkbox">
                                                    <label for="isInsert">&nbsp;IsInsert</label>
                                                </div>
                                            </th>
                                            <th class="back-color-head"
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;"
                                                scope="col" width="6%">
                                                <div class="checkbox-color checkbox-primary p-t-c-6">
                                                    <input id="isUpdate" [(ngModel)]="isUpdate"
                                                        (click)="checkAll($event)" type="checkbox">
                                                    <label for="isUpdate">&nbsp;IsUpdate</label>
                                                </div>
                                            </th>
                                            <th class="back-color-head"
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: left;"
                                                scope="col" width="6%">
                                                <div class="checkbox-color checkbox-primary p-t-c-6">
                                                    <input id="isDelete" [(ngModel)]="isDelete"
                                                        (click)="checkAll($event)" type="checkbox">
                                                    <label for="isDelete">&nbsp;IsDelete</label>
                                                </div>
                                            </th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: center;">
                                                Status</th>
                                            <th
                                                style="position:sticky; top:-1.5px; z-index:1; cursor: pointer; text-align: center;">
                                                Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="banglaTitle p-0" style="padding-bottom: 0px; margin-bottom: 0px;">
                                        <tr *ngFor="let item of this.menuList;let sl = index">
                                            <td class="pl-2 pr-1 pt-1 pb-1">
                                                <span
                                                    title="{{item.subParentId >0 ? 'Sub Parent : ' + item.subParentName : ''}}">
                                                    <a href="javascript:void(0);" class="waves-effect waves-light"
                                                        title="double click to edit record"
                                                        (dblclick)="edit($event, item); cmnEntity.isEdit=true; cmnEntity.isViewOnly=false"
                                                        *ngIf="cmnEntity.isUpdate">
                                                        {{item.menuName}}
                                                    </a>
                                                    <a href="javascript:void(0);" title="Edit permisson unavailable"
                                                        *ngIf="!cmnEntity.isUpdate">{{item.menuName}}</a>
                                                </span>
                                            </td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.parentName}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.menuPath}}</td>
                                            <td class="pl-2 pr-1 pt-1 pb-1">{{item.menuSequence}}</td>
                                            <td style="text-align:center">
                                                <div class="checkbox-color checkbox-primary"
                                                    title="{{item.isSubParent===true || (item.isSubParent===true && item.parentId===0) ? 'Sub Parent Menu' : item.parentId===0? 'Parent Menu' : 'Menu'}}">
                                                    <input id="isView_{{sl+1}}" [(ngModel)]="item.isView"
                                                        (click)="setCheckAll($event, item)"
                                                        [disabled]="item.hasChild===true" type="checkbox">
                                                    <label for="isView_{{sl+1}}"></label>
                                                </div>
                                            </td>
                                            <td style="text-align:center">
                                                <div class="checkbox-color checkbox-primary"
                                                    title="{{item.isSubParent===true || (item.isSubParent===true && item.parentId===0) ? 'Sub Parent Menu' : item.parentId===0? 'Parent Menu' : 'Menu'}}">
                                                    <input id="isInsert_{{sl+1}}" [(ngModel)]="item.isInsert"
                                                        (click)="setCheckAll($event, item)"
                                                        [disabled]="item.hasChild===true" type="checkbox">
                                                    <label for="isInsert_{{sl+1}}"></label>
                                                </div>
                                            </td>
                                            <td style="text-align:center">
                                                <div class="checkbox-color checkbox-primary"
                                                    title="{{item.isSubParent===true || (item.isSubParent===true && item.parentId===0) ? 'Sub Parent Menu' : item.parentId===0? 'Parent Menu' : 'Menu'}}">
                                                    <input id="isUpdate_{{sl+1}}" [(ngModel)]="item.isUpdate"
                                                        (click)="setCheckAll($event, item)"
                                                        [disabled]="item.hasChild===true" type="checkbox">
                                                    <label for="isUpdate_{{sl+1}}"></label>
                                                </div>
                                            </td>
                                            <td style="text-align:center">
                                                <div class="checkbox-color checkbox-primary"
                                                    title="{{item.isSubParent===true || (item.isSubParent===true && item.parentId===0) ? 'Sub Parent Menu' : item.parentId===0? 'Parent Menu' : 'Menu'}}">
                                                    <input id="isDelete_{{sl+1}}" [(ngModel)]="item.isDelete"
                                                        (click)="setCheckAll($event, item)"
                                                        [disabled]="item.hasChild===true" type="checkbox">
                                                    <label for="isDelete_{{sl+1}}"></label>
                                                </div>
                                            </td>
                                            <td class="pl-2 pr-1 pt-1 pb-1" style="text-align: center;">
                                                <h6><span
                                                        class="badge badge-pill badge-{{item.isActive?'success':'danger'}}">{{item.isActive?'Active':'Inactive'}}</span>
                                                </h6>
                                            </td>
                                            <td class="pl-2 pr-1 pt-1 pb-1" style="text-align: center; width: 10%;">
                                                <common-button-option #cmnbuttonoption
                                                    (executeSubmit)="cmnbtnAction($event)" [cmnEntity]="cmnEntity"
                                                    [model]="item" [itemName]="item.menuName"></common-button-option>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="row pr-2">
                        <div class="col-md-12">
                            <div class="pull-left ">
                                <span class="well well-sm">Showing <span
                                        class="text-success"><b>{{pageStart}}</b></span> to <span
                                        class="text-success"><b>{{pageEnd}}</b></span> of <span
                                        class="text-success"><b>{{totalRows}}</b></span> entries</span>
                            </div>
                            <div class="pull-right">
                                <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                                    <li>
                                        <a class="btn btn-sm btn-outline-secondary"
                                            [ngClass]="{disabled:pager.currentPage === 1}" [routerLink]=""
                                            (click)="setPagingToGetAll(1,true)"><i class="fa fa-angle-double-left"
                                                aria-hidden="true"></i>Start</a>
                                    </li>
                                    <li>
                                        <a class="btn btn-sm btn-outline-info"
                                            [ngClass]="{disabled:pager.currentPage === 1}" [routerLink]=""
                                            (click)="setPagingToGetAll(pager.currentPage - 1,true)"><i
                                                class="fa fa-angle-left" aria-hidden="true"></i>Previous</a>
                                    </li>
                                    <li *ngFor="let page of pager.pages">
                                        <a class="btn btn-sm btn-outline-secondary"
                                            [ngClass]="{active:pager.currentPage === page}" [routerLink]=""
                                            (click)="setPagingToGetAll(page,true)">{{page}}</a>
                                    </li>
                                    <li>
                                        <a class="btn btn-sm btn-outline-info"
                                            [ngClass]="{disabled:pager.currentPage === pager.totalPages}"
                                            [routerLink]="" (click)="setPagingToGetAll(pager.currentPage + 1,true)"><i
                                                class="fa fa-angle-right" aria-hidden="true"></i>Next</a>
                                    </li>
                                    <li>
                                        <a class="btn btn-sm btn-outline-secondary"
                                            [ngClass]="{disabled:pager.currentPage === pager.totalPages}"
                                            [routerLink]="" (click)="setPagingToGetAll(pager.totalPages,true)"><i
                                                class="fa fa-angle-double-right" aria-hidden="true"></i>End</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>

</div>

<!-- <modal-confirm #fromConfirmModal (funcConfirm)="confMethod($event)" [funcName]="confFunc" [custMessage]="confMessage" [model]="confModel"></modal-confirm> -->